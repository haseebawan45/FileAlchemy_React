<!DOCTYPE html>
<html>
<head>
    <title>API Configuration Test</title>
</head>
<body>
    <h1>API Configuration Test</h1>
    <div id="results"></div>
    
    <script>
        // Test the API configuration logic
        const getApiBaseUrl = () => {
            // Check if we're in development mode (localhost)
            if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
                // In development, backend runs on port 5000
                return 'http://localhost:5000/api';
            }
            
            // In production (Railway), backend serves frontend and API on same domain
            return `${window.location.origin}/api`;
        };
        
        const API_BASE_URL = getApiBaseUrl();
        
        document.getElementById('results').innerHTML = `
            <p><strong>Current Origin:</strong> ${window.location.origin}</p>
            <p><strong>API Base URL:</strong> ${API_BASE_URL}</p>
            <p><strong>Health Endpoint:</strong> ${API_BASE_URL}/health</p>
        `;
        
        // Test API call
        fetch(`${API_BASE_URL}/health`)
            .then(response => response.json())
            .then(data => {
                document.getElementById('results').innerHTML += `
                    <p><strong>API Response:</strong> ${JSON.stringify(data, null, 2)}</p>
                `;
            })
            .catch(error => {
                document.getElementById('results').innerHTML += `
                    <p><strong>API Error:</strong> ${error.message}</p>
                `;
            });
    </script>
</body>
</html>